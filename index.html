<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Treatment Handout Builder</title>
  <link rel="stylesheet" href="styles.css?v=40" />
  <script defer src="app.js?v=40"></script>
</head>
<body>
  <header>
    <h1>Treatment Handout Builder</h1>
    <div class="header-controls">
      <div style="display: flex; gap: 10px; align-items: center;">
        <label for="languageSelect">Language:</label>
        <select id="languageSelect">
          <option value="english">English</option>
          <option value="spanish">Spanish</option>
          <option value="chinese">Chinese</option>
          <option value="numeric">Numeric</option>
        </select>
        <label for="numericLanguageSelect" id="numericLanguageLabel" style="opacity: 0.5; pointer-events: none;">Heading Language:</label>
        <select id="numericLanguageSelect" disabled style="opacity: 0.5;">
          <option value="english">English</option>
          <option value="spanish">Spanish</option>
          <option value="chinese">Chinese</option>
        </select>
      </div>
    </div>
  </header>

  <main class="layout">
    <!-- Left Column: Medication List -->
    <section class="medication-list">
      <h2>Medications</h2>
      <div class="medication-scroll">
        <div id="medicationButtons"></div>
      </div>
    </section>

    <!-- Middle Column: Form Controls -->
    <section class="controls">
      <div class="medication-entry">
        <label for="medSearch">Selected Medication</label>
        <input id="medSearch" placeholder="Search or pick a medication..." autocomplete="off" />

        <label>Directions</label>
        <div class="directions-form">
          <div class="directions-row">
            <label for="dose">Dose (optional):</label>
            <input type="text" id="dose" placeholder="e.g., 1 drop, 500mg, 1 tablet" />
          </div>
          <div class="directions-row">
            <label for="frequency">Frequency:</label>
            <select id="frequency">
              <option value="">Select frequency</option>
              <option value="QD">QD (Once daily)</option>
              <option value="BID">BID (Twice daily)</option>
              <option value="TID">TID (Three times daily)</option>
              <option value="QID">QID (Four times daily)</option>
              <option value="QHS">QHS (At bedtime)</option>
              <option value="custom">QxH (Every X hours)</option>
              <option value="other">Other (custom)</option>
            </select>
          </div>
          <div class="directions-row" id="customHoursRow" style="display: none;">
            <label for="customHours">Every:</label>
            <input type="number" id="customHours" placeholder="6" min="1" max="24" />
            <span>hours</span>
          </div>
          <div class="directions-row" id="otherRow" style="display: none;">
            <label for="otherDirections">Custom:</label>
            <input type="text" id="otherDirections" placeholder="Enter custom directions" />
          </div>
          <div class="directions-row" id="eyeSelectionRow" style="display: none;">
            <label>Eye:</label>
            <div class="eye-selection">
              <button type="button" class="eye-btn" data-eye="right">OD</button>
              <button type="button" class="eye-btn" data-eye="left">OS</button>
              <button type="button" class="eye-btn" data-eye="both">OU</button>
            </div>
          </div>
        </div>

        <!-- Saved Protocols -->
        <div class="saved-protocols">
          <label>Saved Protocols</label>
          <div class="protocol-buttons">
            <button type="button" class="protocol-btn" data-protocol="dry-eye">Dry Eye</button>
          </div>
        </div>

        <button id="addMedBtn" type="button">Add Medication to Plan</button>
      </div>
      
      <!-- Treatment Plan List -->
      <div class="treatment-plan-list">
        <h3>Treatment Plan</h3>
        <div id="treatmentPlanList">
          <div class="empty-state">No medications added yet.</div>
        </div>
      </div>
    </section>

    <!-- Hidden: Right Column for Print Only -->
    <section class="handout" id="handout" style="display: none;">
      <div class="handout-header">
        <h2>Patient Treatment Plan</h2>
        <button id="clearHandoutBtn" type="button" onclick="clearAll()">Clear All</button>
      </div>
      <div id="handoutContent">
        <div class="empty-handout">
          <p>Add medications to see your treatment plan here.</p>
        </div>
      </div>

      <footer class="handout-footer">
        <div>Date: <span id="today"></span></div>
      </footer>
    </section>
  </main>
</body>
</html>


